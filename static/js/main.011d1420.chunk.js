(this["webpackJsonpcar-map"]=this["webpackJsonpcar-map"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/car-round_available-3.c0503a41.svg"},21:function(e,t,a){e.exports=a.p+"static/media/car-round_unavailable-3.b7314b99.svg"},33:function(e,t,a){e.exports=a.p+"static/media/settings-white.e3c0ae30.svg"},34:function(e,t,a){e.exports=a(53)},39:function(e,t,a){},40:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),i=(a(39),a(9)),l=a(29),s=a(30),u=a(27),m=(a(40),function(e){var t=e.activeObject,a=t.address,n=t.batteryLevelPct,r=t.color,o=t.location,i=t.name,l=t.platesNumber,s=t.rangeKm,m=t.sideNumber,p=e.setActiveObject;return c.a.createElement(u.a,{position:[o.latitude,o.longitude],onClose:function(){p(null)}},c.a.createElement("div",{className:"popup"},c.a.createElement("h2",{className:"popup__name"},i),l.indexOf(" ")<0&&c.a.createElement("span",{className:"popup__plates"},l),r&&c.a.createElement("p",{className:"popup__color"},"Kolor:",c.a.createElement("span",{style:{backgroundColor:r}})),c.a.createElement("p",{className:"popup__sidenumber"},3===m.length&&"Numer boczny: ".concat(m)),c.a.createElement("p",{className:"popup__range"},"Zasi\u0119g: ".concat(s," km")),c.a.createElement("p",{className:"popup__battery"},"Poziom baterii: ".concat(n," %")),a&&c.a.createElement("p",{className:"popup__adress"},"Adres: ".concat(a))))}),p=a(13),b=a.n(p),d=a(28),f=a(24),v=a.n(f),E=a(25),y=a(17),h=Object(n.createContext)({}),j=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(i.a)(a,2),o=r[0],l=r[1];return Object(n.useEffect)((function(){!function(){var e,t,a,n;v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,v.a.awrap(fetch("https://dev.vozilla.pl/api-client-portal/map?objectType=VEHICLE"));case 3:return e=c.sent,c.next=6,v.a.awrap(e.json());case 6:if(t=c.sent,a=t.objects,e.ok&&a.length){c.next=10;break}throw new Error("Kod b\u0142\u0119du ".concat(e.status));case 10:n=b.a.map(a,(function(e){var t=b.a.pick(e,["address","batteryLevelPct","color","id","location","name","platesNumber","rangeKm","sideNumber","status"]);return Object(y.a)({},t,{hiddenByStatus:!1,hiddenByBatteryLevel:!1})})),l(n),c.next=17;break;case 14:c.prev=14,c.t0=c.catch(0),alert("Nie mo\u017cna pobra\u0107 danych o po\u0142o\u017ceniu obiekt\xf3w. ".concat(c.t0));case 17:case"end":return c.stop()}}),null,null,[[0,14]])}()}),[]),c.a.createElement(h.Provider,{value:{objects:o,setObjects:l,filterByAvailabilityStatus:function(e,t){var a=b.a.map(o,(function(a){return a.status===e?Object(y.a)({},a,{hiddenByStatus:t}):Object(y.a)({},a)}));l(Object(E.a)(a))},filterByBatteryLevel:function(e){var t=b.a.map(o,(function(t){return t.batteryLevelPct<e?Object(y.a)({},t,{hiddenByBatteryLevel:!0}):Object(y.a)({},t,{hiddenByBatteryLevel:!1})}));l(Object(E.a)(t))}}},t)},g=a(2),O=a.n(g),N=a(20),_=a.n(N),B=a(21),w=a.n(B),x=O.a.icon({iconUrl:_.a,iconSize:[40,40],iconAnchor:[20,0]}),A=O.a.icon({iconUrl:w.a,iconSize:[40,40],iconAnchor:[20,0]}),k=function(e){var t=e.setActiveObject,a=Object(n.useContext)(h).objects;return c.a.createElement(c.a.Fragment,null,b.a.map(a,(function(e){return!e.hiddenByStatus&&!e.hiddenByBatteryLevel&&c.a.createElement(d.a,{key:e.id,position:[e.location.latitude,e.location.longitude],onClick:function(){t(e)},icon:"AVAILABLE"===e.status?x:A})})))},L=a(32),S=a.n(L),C=(a(48),function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return c.a.createElement(l.a,{center:[52.187511,20.930528],zoom:10,maxZoom:19},c.a.createElement(s.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),c.a.createElement(S.a,{maxClusterRadius:30},c.a.createElement(k,{setActiveObject:r})),a&&c.a.createElement(m,{activeObject:a,setActiveObject:r}))}),z=a(33),P=a.n(z),I=(a(49),a(50),function(e){var t=e.type,a=Object(n.useState)(!0),r=Object(i.a)(a,2),o=r[0],l=r[1],s=Object(n.useContext)(h).filterByAvailabilityStatus;return c.a.createElement("input",{className:"switch-input",type:"checkbox",checked:o,onChange:function(){return l((function(e){return!e})),void s(t,o)}})}),K=(a(51),function(e){var t=e.icon,a=e.title,n=e.type;return c.a.createElement("div",{className:"switch-filter"},c.a.createElement(I,{type:n}),c.a.createElement("img",{src:t,alt:"".concat(n," icon"),className:"switch-filter__icon"}),c.a.createElement("p",{className:"switch-filter__info"},a))}),V=(a(52),function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(h).filterByBatteryLevel;Object(n.useEffect)((function(){o(a)}),[a]);return c.a.createElement("div",{className:"range-filter"},c.a.createElement("p",{className:"range-filter__info"},"min: ",a,"%"),c.a.createElement("input",{type:"range",className:"slider",value:a,step:"10",min:"0",max:"100",onChange:function(e){return function(e){r(+e.target.value)}(e)}}),c.a.createElement("p",{className:"range-filter__info"},"Poziom baterii"))}),U=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:a?"toolbar open":"toolbar"},c.a.createElement("div",{className:"settings"},c.a.createElement("button",{className:"settings__btn",onClick:function(){return r(!a)}},c.a.createElement("img",{className:"settings__icon",src:P.a,alt:"settings icon"}))),c.a.createElement("div",{className:"filters"},c.a.createElement(K,{icon:_.a,title:"Pojazdy dost\u0119pne",type:"AVAILABLE"}),c.a.createElement(K,{icon:w.a,title:"Pojazdy niedost\u0119pne",type:"UNAVAILABLE"}),c.a.createElement(V,null)))},J=function(){return c.a.createElement(j,null,c.a.createElement(C,null),c.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.011d1420.chunk.js.map